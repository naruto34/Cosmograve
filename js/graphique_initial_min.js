var margin={top:30,right:20,bottom:30,left:50},width=750-margin.left-margin.right,height=450-margin.top-margin.bottom,parseDate=d3.time.format("%d-%b-%y").parse,x=d3.time.scale().range([0,width]),y=d3.scale.linear().range([height,0]),xAxis=d3.svg.axis().scale(x).orient("bottom").ticks(5),yAxis=d3.svg.axis().scale(y).orient("left").ticks(5),valueline=d3.svg.line().x(function(a){return x(a.date)}).y(function(a){return y(a.close)}),svg=d3.select("#graphique").append("svg").attr("width",width+margin.left+
margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");data=[];data.forEach(function(a){a.date=parseDate(a.date);a.close=+a.close});x.domain(d3.extent(data,function(a){return a.date}));y.domain([0,d3.max(data,function(a){return a.close})]);svg.append("path").attr("class","line").attr("d",valueline(data));svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(xAxis);
svg.append("g").attr("class","y axis").call(yAxis);svg.append("text").attr("class","legend_titre").attr("x",175).attr("y",-15).attr("dy",".3em").attr("transform","rotate(0)").text("Evolution du facteur d'\u00e9chelle r\u00e9duit");svg.append("text").attr("class","legend_axe").attr("x",225).attr("y",415).attr("dy",".3em").attr("transform","rotate(0)").text("t (Ga)");svg.append("text").attr("class","legend_axe").attr("x",-150).attr("y",-35).attr("dy",".3em").attr("transform","rotate(-90)").text("a (t)");